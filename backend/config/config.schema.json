{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://fast6.example/schema/config.schema.json",
  "title": "Fast6 Config",
  "type": "object",
  "additionalProperties": false,
  "required": [
    "app",
    "seasons",
    "scoring",
    "analytics",
    "teams",
    "api",
    "ui_theme",
    "positions",
    "features"
  ],
  "properties": {
    "app": { "$ref": "#/$defs/app" },
    "seasons": {
      "type": "array",
      "items": { "type": "integer" },
      "minItems": 1
    },
    "scoring": { "$ref": "#/$defs/scoring" },
    "analytics": { "$ref": "#/$defs/analytics" },
    "teams": { "$ref": "#/$defs/teams" },
    "api": { "$ref": "#/$defs/api" },
    "ui_theme": { "$ref": "#/$defs/ui_theme" },
    "positions": {
      "type": "array",
      "items": { "type": "string" },
      "minItems": 1
    },
    "features": { "$ref": "#/$defs/features" }
  },
  "$defs": {
    "app": {
      "type": "object",
      "additionalProperties": false,
      "required": ["name", "version", "current_season", "database_path"],
      "properties": {
        "name": { "type": "string", "minLength": 1 },
        "version": { "type": "string", "minLength": 1 },
        "current_season": { "type": "integer" },
        "current_week": { "type": "integer", "minimum": 1, "maximum": 30 },
        "database_path": { "type": "string", "minLength": 1 },
        "description": { "type": "string" }
      }
    },
    "scoring": {
      "type": "object",
      "additionalProperties": false,
      "required": ["first_td_win", "any_time_td", "name_match_threshold", "auto_grade_enabled"],
      "properties": {
        "first_td_win": { "type": "integer", "minimum": 0 },
        "any_time_td": { "type": "integer", "minimum": 0 },
        "name_match_threshold": { "type": "number", "minimum": 0, "maximum": 1 },
        "auto_grade_enabled": { "type": "boolean" }
      }
    },
    "analytics": {
      "type": "object",
      "additionalProperties": false,
      "required": ["default_odds", "odds_buckets"],
      "properties": {
        "default_odds": { "type": "integer", "minimum": 0 },
        "odds_buckets": {
          "type": "array",
          "minItems": 1,
          "items": {
            "type": "object",
            "additionalProperties": false,
            "required": ["min", "max", "label"],
            "properties": {
              "min": { "type": "integer", "minimum": 0 },
              "max": { "type": "integer", "minimum": 0 },
              "label": { "type": "string", "minLength": 1 }
            }
          }
        }
      }
    },
    "teams": {
      "type": "object",
      "additionalProperties": false,
      "patternProperties": {
        "^[A-Z]{2,3}$": {
          "type": "object",
          "additionalProperties": false,
          "required": ["full_name", "division", "conference"],
          "properties": {
            "full_name": { "type": "string", "minLength": 1 },
            "division": { "type": "string", "minLength": 1 },
            "conference": { "type": "string", "minLength": 1 }
          }
        }
      }
    },
    "api": {
      "type": "object",
      "additionalProperties": false,
      "required": ["odds_api", "polymarket", "kalshi", "prediction_markets", "retry", "circuit_breaker"],
      "properties": {
        "odds_api": { "$ref": "#/$defs/odds_api" },
        "polymarket": { "$ref": "#/$defs/polymarket" },
        "kalshi": { "$ref": "#/$defs/kalshi" },
        "prediction_markets": { "$ref": "#/$defs/prediction_markets" },
        "retry": { "$ref": "#/$defs/retry" },
        "circuit_breaker": { "$ref": "#/$defs/circuit_breaker" }
      }
    },
    "odds_api": {
      "type": "object",
      "additionalProperties": false,
      "required": ["enabled", "base_url", "sport", "market", "regions", "format", "cache_ttl"],
      "properties": {
        "enabled": { "type": "boolean" },
        "base_url": { "type": "string", "minLength": 1 },
        "sport": { "type": "string", "minLength": 1 },
        "market": { "type": "string", "minLength": 1 },
        "regions": { "type": "string", "minLength": 1 },
        "format": { "type": "string", "minLength": 1 },
        "cache_ttl": { "type": "integer", "minimum": 1 }
      }
    },
    "polymarket": {
      "type": "object",
      "additionalProperties": false,
      "required": ["enabled", "gamma_base_url", "clob_base_url", "data_base_url", "cache_ttl", "search_keywords"],
      "properties": {
        "enabled": { "type": "boolean" },
        "gamma_base_url": { "type": "string", "minLength": 1 },
        "clob_base_url": { "type": "string", "minLength": 1 },
        "data_base_url": { "type": "string", "minLength": 1 },
        "cache_ttl": { "type": "integer", "minimum": 1 },
        "search_keywords": {
          "type": "array",
          "items": { "type": "string" },
          "minItems": 1
        }
      }
    },
    "kalshi": {
      "type": "object",
      "additionalProperties": false,
      "required": ["enabled", "base_url", "cache_ttl", "event_categories"],
      "properties": {
        "enabled": { "type": "boolean" },
        "base_url": { "type": "string", "minLength": 1 },
        "cache_ttl": { "type": "integer", "minimum": 1 },
        "event_categories": {
          "type": "array",
          "items": { "type": "string" },
          "minItems": 1
        }
      }
    },
    "prediction_markets": {
      "type": "object",
      "additionalProperties": false,
      "required": ["enabled_sources", "auto_link_results"],
      "properties": {
        "enabled_sources": {
          "type": "array",
          "items": { "type": "string" }
        },
        "auto_link_results": { "type": "boolean" }
      }
    },
    "retry": {
      "type": "object",
      "additionalProperties": false,
      "required": ["retries", "backoff_base_seconds", "backoff_factor", "jitter_seconds"],
      "properties": {
        "retries": { "type": "integer", "minimum": 0 },
        "backoff_base_seconds": { "type": "number", "minimum": 0 },
        "backoff_factor": { "type": "number", "minimum": 1 },
        "jitter_seconds": { "type": "number", "minimum": 0 }
      }
    },
    "circuit_breaker": {
      "type": "object",
      "additionalProperties": false,
      "required": ["failure_threshold", "cooldown_seconds"],
      "properties": {
        "failure_threshold": { "type": "integer", "minimum": 1 },
        "cooldown_seconds": { "type": "integer", "minimum": 1 }
      }
    },
    "ui_theme": {
      "type": "object",
      "additionalProperties": false,
      "required": [
        "primary_color",
        "secondary_color",
        "accent_color",
        "success_color",
        "error_color",
        "warning_color",
        "info_color",
        "font_family",
        "border_radius"
      ],
      "properties": {
        "primary_color": { "type": "string", "pattern": "^#([A-Fa-f0-9]{6})$" },
        "secondary_color": { "type": "string", "pattern": "^#([A-Fa-f0-9]{6})$" },
        "accent_color": { "type": "string", "pattern": "^#([A-Fa-f0-9]{6})$" },
        "success_color": { "type": "string", "pattern": "^#([A-Fa-f0-9]{6})$" },
        "error_color": { "type": "string", "pattern": "^#([A-Fa-f0-9]{6})$" },
        "warning_color": { "type": "string", "pattern": "^#([A-Fa-f0-9]{6})$" },
        "info_color": { "type": "string", "pattern": "^#([A-Fa-f0-9]{6})$" },
        "font_family": { "type": "string", "minLength": 1 },
        "border_radius": { "type": "string", "minLength": 1 }
      }
    },
    "features": {
      "type": "object",
      "additionalProperties": false,
      "required": [
        "auto_grading",
        "csv_import",
        "admin_panel",
        "multi_group_support",
        "user_self_management"
      ],
      "properties": {
        "auto_grading": { "type": "boolean" },
        "csv_import": { "type": "boolean" },
        "admin_panel": { "type": "boolean" },
        "multi_group_support": { "type": "boolean" },
        "user_self_management": { "type": "boolean" }
      }
    }
  }
}
